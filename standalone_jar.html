<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Lightning by automatictester</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Lightning</h1>
    <h2 class="project-tagline">Standalone JAR</h2>
    <a href="index.html" class="btn">Overview</a>
    <a href="standalone_jar.html" class="btn">Standalone JAR</a>
    <a href="maven_plugin.html" class="btn">Maven Plugin</a>
    <a href="resources.html" class="btn">Resources</a>
</section>
<a href="https://github.com/automatictester/lightning"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
<section class="main-content">

    <h3><a id="quick-start-guide" class="anchor" href="#quick-start-guide" aria-hidden="true"></a>Quick start guide</h3>

    <p>This is a Lightning standalone JAR usage example.</p>

    <p>Prerequisites:</p>

    <ul>
        <li>Java 7 or above</li>
        <li>Git</li>
        <li>Maven 3</li>
    </ul>

    <p>Steps:</p>

    <ul>
        <li>Clone repo with sample project: <code>git clone https://github.com/automatictester/lightning-example.git</code></li>
        <li>Go to cloned directory: <code>cd lightning-example</code></li>
        <li>Run JMeter tests with JMeter Maven Plugin: <code>mvn clean verify</code>. JMeter test results will be saved
            to <code>target/jmeter/results/example.csv</code></li>
        <li>Run Lightning: <code>java -jar bin/lightning-standalone-5.0.0.jar verify -xml
            src/test/resources/lightning.xml --jmeter-csv target/jmeter/results/example.csv</code>.
        </li>
        <li>You should get console output similar to this:</li>
    </ul>

<pre><code>Test name:            JMeter home page - average response time
Test type:            avgRespTimeTest
Transaction name:     JMeter home page
Expected result:      Average response time &lt;= 1000
Actual result:        Average response time = 73.6
Transaction count:    10
Longest transactions: [205, 61, 61, 60, 60]
Test result:          Pass

Test name:            JMeter home page - failed tests
Test type:            passedTransactionsTest
Transaction name:     JMeter home page
Expected result:      Number of failed transactions &lt;= 0
Actual result:        Number of failed transactions = 0
Transaction count:    10
Test result:          Pass


============= EXECUTION SUMMARY =============
Tests executed:    2
Tests passed:      2
Tests failed:      0
Tests errors:      0
Test set status:   Pass
Execution time:    77ms
##teamcity[buildStatisticValue key='JMeter home page - average response time' value='73.6']
##teamcity[buildStatisticValue key='JMeter home page - failed tests' value='0']
</code></pre>

    <p>JUnit XML report will be saved to <code>junit.xml</code>:</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;testsuite errors="0" failures="0" name="Lightning" tests="2" time="0"&gt;
    &lt;testcase name="JMeter home page - average response time" time="0"/&gt;
    &lt;testcase name="JMeter home page - failed tests" time="0"/&gt;
&lt;/testsuite&gt;
</code></pre>

    <p>Properties file for Jenkins Build Name Setter plugin will be saved to <code>lightning-jenkins.properties</code>:
    </p>

<pre><code>#In Jenkins Build Name Setter Plugin, define build name as: ${BUILD_NUMBER} - ${PROPFILE,file="lightning-jenkins.properties",property="result.string"}
#Mon May 02 19:08:52 BST 2016
result.string=Tests executed\: 2, failed\: 0
</code></pre>

    <p>Feel free to play with JMeter test plan <code>src/test/jmeter/example.jmx</code> and Lightning config file <code>src/test/resources/lightning.xml</code>.
        Once you familiarised yourself with the tool, create your own JMeter tests, Lightning configuration and plug it
        into your CI/CD server.</p>

    <h3><a id="download" class="anchor" href="#download" aria-hidden="true"></a>Download</h3>

    <p>Standalone JAR is available for download from <a href="https://github.com/automatictester/lightning/releases/latest" target="_blank">GitHub</a>.
    </p>

    <h3><a id="changelog" class="anchor" href="#changelog" aria-hidden="true"></a>Changelog</h3>

    <p>All new features and bugfixes are included in the <a href="https://github.com/automatictester/lightning/releases"
                                                            target="_blank">release notes</a>.</p>

    <footer class="site-footer">
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a
                href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a
                href="https://twitter.com/jasonlong">Jason Long</a>.</span>
    </footer>

</section>


</body>
</html>
